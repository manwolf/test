<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
   <html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Docs For Class CStatePersister</title>
  <link rel="stylesheet" href="../media/stylesheet.css" />
  <script src="../media/lib/classTree.js"></script>
<link id="webfx-tab-style-sheet" type="text/css" rel="stylesheet" href="../media/lib/tab.webfx.css" />
<script type="text/javascript" src="../media/lib/tabpane.js"></script>
  <script language="javascript" type="text/javascript" src="../media/lib/ua.js"></script>
<script language="javascript" type="text/javascript">
	var imgPlus = new Image();
	var imgMinus = new Image();
	imgPlus.src = "../media/images/plus.gif";
	imgMinus.src = "../media/images/minus.gif";
	
	function showNode(Node){
        switch(navigator.family){
        	case 'nn4':
        		// Nav 4.x code fork...
				var oTable = document.layers["span" + Node];
				var oImg = document.layers["img" + Node];
        		break;
        	case 'ie4':
        		// IE 4/5 code fork...
				var oTable = document.all["span" + Node];
				var oImg = document.all["img" + Node];
        		break;
        	case 'gecko':
        		// Standards Compliant code fork...
				var oTable = document.getElementById("span" + Node);
				var oImg = document.getElementById("img" + Node);
        		break;
        }
		oImg.src = imgMinus.src;
		oTable.style.display = "block";
	}
	
	function hideNode(Node){
        switch(navigator.family){
        	case 'nn4':
        		// Nav 4.x code fork...
				var oTable = document.layers["span" + Node];
				var oImg = document.layers["img" + Node];
        		break;
        	case 'ie4':
        		// IE 4/5 code fork...
				var oTable = document.all["span" + Node];
				var oImg = document.all["img" + Node];
        		break;
        	case 'gecko':
        		// Standards Compliant code fork...
				var oTable = document.getElementById("span" + Node);
				var oImg = document.getElementById("img" + Node);
        		break;
        }
		oImg.src = imgPlus.src;
		oTable.style.display = "none";
	}
	
	function nodeIsVisible(Node){
        switch(navigator.family){
        	case 'nn4':
        		// Nav 4.x code fork...
				var oTable = document.layers["span" + Node];
        		break;
        	case 'ie4':
        		// IE 4/5 code fork...
				var oTable = document.all["span" + Node];
        		break;
        	case 'gecko':
        		// Standards Compliant code fork...
				var oTable = document.getElementById("span" + Node);
        		break;
        }
		return (oTable && oTable.style.display == "block");
	}
	
	function toggleNodeVisibility(Node){
		if (nodeIsVisible(Node)){
			hideNode(Node);
		}else{
			showNode(Node);
		}
	}
</script>
<!-- template designed by Julien Damon based on PHPEdit's generated templates, and tweaked by Greg Beaver -->
<body bgcolor="#ffffff" >

<!-- Start of Class Data -->
<h2>
	Class CStatePersister
</h2> (line <span class="linenumber">41</span>)
<div class="tab-pane" id="tabPane1">
<script type="text/javascript">
tp1 = new WebFXTabPane( document.getElementById( "tabPane1" ));
</script>

<div class="tab-page" id="Description">
<h2 class="tab">Description</h2>
<pre>
<a href="../system-base/CComponent.html">CComponent</a>
   |
   --<a href="../system-base/CApplicationComponent.html">CApplicationComponent</a>
      |
      --CStatePersister</pre>
<p>
	<b><i>Located in File: <a href="_CStatePersister.php.html">/CStatePersister.php</a></i></b><br>
</p>
<!-- ========== Info from phpDoc block ========= -->
<h5>CStatePersister implements a file-based persistent data storage.</h5>
<div class="desc"><p>It can be used to keep data available through multiple requests and sessions.</p><p>By default, CStatePersister stores data in a file named 'state.bin' that is located  under the application CApplication::getRuntimePath.  You may change the location by setting the <a href="../system-base/CStatePersister.html#var$stateFile">stateFile</a> property.</p><p>To retrieve the data from CStatePersister, call <a href="../system-base/CStatePersister.html#methodload">load()</a>. To save the data,  call <a href="../system-base/CStatePersister.html#methodsave">save()</a>.</p><p>Comparison among state persister, session and cache is as follows:  <ul><li>session: data persisting within a single user session.</li><li>state persister: data persisting through all requests/sessions (e.g. hit counter).</li><li>cache: volatile and fast storage. It may be used as storage medium for session or state persister.</li></ul></p><p>Since server resource is often limited, be cautious if you plan to use CStatePersister  to store large amount of data. You should also consider using database-based persister  to improve the throughput.</p><p>CStatePersister is a core application component used to store global application state.  It may be accessed via <a href="../system-base/CApplication.html#methodgetStatePersister">CApplication::getStatePersister()</a>.</p></div>
<ul>
		<li><strong>author:</strong> - Qiang Xue &lt;<a href="mailto:qiang.xue@gmail.com">qiang.xue@gmail.com</a>&gt;</li>
		<li><strong>since:</strong> - 1.0</li>
	</ul>

<br /><hr />
</div>
<script type="text/javascript">tp1.addTabPage( document.getElementById( "Description" ) );</script>
<div class="tab-page" id="tabPage1">
<h2 class="tab">Class Variables</h2>
<!-- ============ VARIABLE DETAIL =========== -->
<strong>Summary:</strong><br />
<div class="var-title">
    <span class="var-type">string</span>
    <a href="#var$cacheID" title="details" class="property"><strong>$cacheID</strong></a>
</div>
<div class="var-title">
    <span class="var-type">string</span>
    <a href="#var$stateFile" title="details" class="property"><strong>$stateFile</strong></a>
</div>
<hr />
<a name="var$cacheID" id="var$cacheID"><!-- --></A>
<div style="background='#ffffff'">
<h4>
<img src="../media/images/PublicProperty.gif" border="0" /> <strong class="property">$cacheID = 'cache'</strong> (line <span class="linenumber">54</span>)
 </h4>
<h4>Data type : string</h4>
<!-- ========== Info from phpDoc block ========= -->
<ul>
		<li><strong>var:</strong> - the ID of the cache application component that is used to cache the state values.  Defaults to 'cache' which refers to the primary cache application component.  Set this property to false if you want to disable caching state values.</li>
		<li><strong>access:</strong> - public</li>
	</ul>

</div>
<a name="var$stateFile" id="var$stateFile"><!-- --></A>
<div style="background='#eeeeee'">
<h4>
<img src="../media/images/PublicProperty.gif" border="0" /> <strong class="property">$stateFile</strong> (line <span class="linenumber">48</span>)
 </h4>
<h4>Data type : string</h4>
<!-- ========== Info from phpDoc block ========= -->
<ul>
		<li><strong>var:</strong> - the file path storing the state data. Make sure the directory containing  the file exists and is writable by the Web server process. If using relative path, also  make sure the path is correct.</li>
		<li><strong>access:</strong> - public</li>
	</ul>

</div>
<script type="text/javascript">tp1.addTabPage( document.getElementById( "tabPage1" ) );</script>


</div>
<div class="tab-page" id="constantsTabpage">
<h2 class="tab">Class Constants</h2>
<!-- ============ VARIABLE DETAIL =========== -->
<strong>Summary:</strong><br />
<hr />
<script type="text/javascript">tp1.addTabPage( document.getElementById( "constantsTabpage" ) );</script>


</div>
<div class="tab-page" id="tabPage2">
<h2 class="tab">Method Detail</h2>
<!-- ============ METHOD DETAIL =========== -->
<strong>Summary:</strong><br />
<div class="method-summary">
    <div class="method-definition">
            <span class="method-result">string</span>
        <a href="#methodgetContent" title="details" class="method-name">getContent</a>
        (<span class="var-type"></span>&nbsp;<span class="var-name">$filename</span>)
        </div>
    <div class="method-definition">
            <span class="method-result">void</span>
        <a href="#methodinit" title="details" class="method-name">init</a>
        ()
        </div>
    <div class="method-definition">
            <span class="method-result">mixed</span>
        <a href="#methodload" title="details" class="method-name">load</a>
        ()
        </div>
    <div class="method-definition">
            <span class="method-result">void</span>
        <a href="#methodsave" title="details" class="method-name">save</a>
        (<span class="var-type">mixed</span>&nbsp;<span class="var-name">$state</span>)
        </div>
</div>
<hr />
<A NAME='method_detail'></A>


<a name="methodgetContent" id="methodgetContent"><!-- --></a>
<div style="background='#ffffff'"><h4>
<img src="../media/images/PublicMethod.gif" border="0" /> <strong class="method">Method getContent</strong> (line <span class="linenumber">111</span>)
 </h4> 
<h4><i>string</i> <strong>getContent(

$filename)</strong></h4>

	<!-- ========== Info from phpDoc block ========= -->
<h5>Loads content from file using a shared lock to avoid data corruption when reading  the file while it is being written by save()</h5>
		<h4>Parameters</h4>
	<ul>
			<li><strong> $filename</strong>: </li>
		</ul>
		
	<h4>Info</h4>
	<ul>
			<li><strong>return</strong> - file contents</li>
			<li><strong>since</strong> - 1.1.17</li>
			<li><strong>access</strong> - protected</li>
		</ul>

</div>
<a name="methodinit" id="methodinit"><!-- --></a>
<div style="background='#eeeeee'"><h4>
<img src="../media/images/PublicMethod.gif" border="0" /> <strong class="method">Method init</strong> (line <span class="linenumber">61</span>)
 </h4> 
<h4><i>void</i> <strong>init(
)</strong></h4>

<p><strong>Overrides :</strong> <a href="../system-base/CApplicationComponent.html#methodinit">CApplicationComponent::init()</a> Initializes the application component.</p>
	<!-- ========== Info from phpDoc block ========= -->
<h5>Initializes the component.</h5>
<div class="desc"><p>This method overrides the parent implementation by making sure <a href="../system-base/CStatePersister.html#var$stateFile">stateFile</a>  contains valid value.</p></div>
		
	<h4>Info</h4>
	<ul>
			<li><strong>access</strong> - public</li>
		</ul>

</div>
<a name="methodload" id="methodload"><!-- --></a>
<div style="background='#ffffff'"><h4>
<img src="../media/images/PublicMethod.gif" border="0" /> <strong class="method">Method load</strong> (line <span class="linenumber">76</span>)
 </h4> 
<h4><i>mixed</i> <strong>load(
)</strong></h4>

			<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt><a href="../system-base/IStatePersister.html#methodload">IStatePersister::load()</a></dt>
						<dd>Loads state data from a persistent storage.</dd>
					</dl>
		<!-- ========== Info from phpDoc block ========= -->
<h5>Loads state data from persistent storage.</h5>
		
	<h4>Info</h4>
	<ul>
			<li><strong>return</strong> - state data. Null if no state data available.</li>
			<li><strong>access</strong> - public</li>
		</ul>

</div>
<a name="methodsave" id="methodsave"><!-- --></a>
<div style="background='#eeeeee'"><h4>
<img src="../media/images/PublicMethod.gif" border="0" /> <strong class="method">Method save</strong> (line <span class="linenumber">128</span>)
 </h4> 
<h4><i>void</i> <strong>save(
mixed
$state)</strong></h4>

			<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt><a href="../system-base/IStatePersister.html#methodsave">IStatePersister::save()</a></dt>
						<dd>Saves state data into a persistent storage.</dd>
					</dl>
		<!-- ========== Info from phpDoc block ========= -->
<h5>Saves application state in persistent storage.</h5>
		<h4>Parameters</h4>
	<ul>
			<li><strong>mixed $state</strong>: state data (must be serializable).</li>
		</ul>
		
	<h4>Info</h4>
	<ul>
			<li><strong>access</strong> - public</li>
		</ul>

</div>
<script type="text/javascript">tp1.addTabPage( document.getElementById( "tabPage2" ) );</script>

</div>
<div class="tab-page" id="iVars">
<h2 class="tab">Inherited Variables</h2>
<script type="text/javascript">tp1.addTabPage( document.getElementById( "iVars" ) );</script>
<!-- =========== VAR INHERITED SUMMARY =========== -->
<A NAME='var_inherited_summary'><!-- --></A>
<h3>Inherited Class Variable Summary</h3>

		<!-- =========== Summary =========== -->
	<h4>Inherited From Class <a href="../system-base/CApplicationComponent.html">CApplicationComponent</a></h4>
		<h4>
<img src="../media/images/PublicProperty.gif" border="0" /><strong class="property"> <a href="../system-base/CApplicationComponent.html#var$behaviors">CApplicationComponent::$behaviors</a></strong> - 
	</h4> 
		</div>
<div class="tab-page" id="iMethods">
<h2 class="tab">Inherited Methods</h2>
<script type="text/javascript">tp1.addTabPage( document.getElementById( "iMethods" ) );</script>
<!-- =========== INHERITED METHOD SUMMARY =========== -->
<A NAME='functions_inherited'><!-- --></A>
<h3>Inherited Method Summary</h3>

		<!-- =========== Summary =========== -->
	<h4>Inherited From Class <a href="../system-base/CApplicationComponent.html">CApplicationComponent</a></h4>
				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CApplicationComponent.html#methodgetIsInitialized">CApplicationComponent::getIsInitialized()</a></strong> - Checks if this application component has been initialized.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CApplicationComponent.html#methodinit">CApplicationComponent::init()</a></strong> - Initializes the application component.
		</h4> 

				<br />
		<!-- =========== Summary =========== -->
	<h4>Inherited From Class <a href="../system-base/CComponent.html">CComponent</a></h4>
				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodasa">CComponent::asa()</a></strong> - Returns the named behavior object.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodattachBehavior">CComponent::attachBehavior()</a></strong> - Attaches a behavior to this component.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodattachBehaviors">CComponent::attachBehaviors()</a></strong> - Attaches a list of behaviors to the component.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodattachEventHandler">CComponent::attachEventHandler()</a></strong> - Attaches an event handler to an event.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodcanGetProperty">CComponent::canGetProperty()</a></strong> - Determines whether a property can be read.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodcanSetProperty">CComponent::canSetProperty()</a></strong> - Determines whether a property can be set.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methoddetachBehavior">CComponent::detachBehavior()</a></strong> - Detaches a behavior from the component.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methoddetachBehaviors">CComponent::detachBehaviors()</a></strong> - Detaches all behaviors from the component.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methoddetachEventHandler">CComponent::detachEventHandler()</a></strong> - Detaches an existing event handler.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methoddisableBehavior">CComponent::disableBehavior()</a></strong> - Disables an attached behavior.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methoddisableBehaviors">CComponent::disableBehaviors()</a></strong> - Disables all behaviors attached to this component.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodenableBehavior">CComponent::enableBehavior()</a></strong> - Enables an attached behavior.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodenableBehaviors">CComponent::enableBehaviors()</a></strong> - Enables all behaviors attached to this component.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodevaluateExpression">CComponent::evaluateExpression()</a></strong> - Evaluates a PHP expression or callback under the context of this component.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodgetEventHandlers">CComponent::getEventHandlers()</a></strong> - Returns the list of attached event handlers for an event.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodhasEvent">CComponent::hasEvent()</a></strong> - Determines whether an event is defined.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodhasEventHandler">CComponent::hasEventHandler()</a></strong> - Checks whether the named event has attached handlers.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodhasProperty">CComponent::hasProperty()</a></strong> - Determines whether a property is defined.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#methodraiseEvent">CComponent::raiseEvent()</a></strong> - Raises an event.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#method__call">CComponent::__call()</a></strong> - Calls the named method which is not a class method.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#method__get">CComponent::__get()</a></strong> - Returns a property value, an event handler list or a behavior based on its name.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#method__isset">CComponent::__isset()</a></strong> - Checks if a property value is null.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#method__set">CComponent::__set()</a></strong> - Sets value of a component property.
		</h4> 

				<h4>
<img src="../media/images/PublicMethod.gif" border="0" /><strong class="method"> <a href="../system-base/CComponent.html#method__unset">CComponent::__unset()</a></strong> - Sets a component property to be null.
		</h4> 

				<br />
	</div>
</div>
<script type="text/javascript">
//<![CDATA[

setupAllTabs();

//]]>
</script>
	<div id="credit">
		<hr />
		Documentation generated on Mon, 11 Jul 2016 21:51:44 +0800 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.4</a>
	</div>
</body>
</html>

